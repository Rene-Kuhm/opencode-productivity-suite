framework: "Flutter"
version: "3.x"
category: "Mobile"
description: "Zero Defect configuration for Flutter projects"

analysis_options:
  include: package:flutter_lints/flutter.yaml
  
  analyzer:
    strong-mode:
      implicit-casts: false
      implicit-dynamic: false
    errors:
      # Treat missing required parameters as errors
      missing_required_param: error
      # Treat missing returns as errors
      missing_return: error
      # Treat invalid assignments as errors
      invalid_assignment: error
      # Treat dead code as errors
      dead_code: error
      # Treat unused imports as errors
      unused_import: error
      # Treat unused locals as warnings
      unused_local_variable: warning
      # Treat deprecated member use as warnings
      deprecated_member_use: warning
    exclude:
      - "**/*.g.dart"
      - "**/*.freezed.dart"
      - "**/*.mocks.dart"
  
  linter:
    rules:
      # Error rules (must fix)
      avoid_print: true
      avoid_web_libraries_in_flutter: true
      no_logic_in_create_state: true
      prefer_const_constructors: true
      prefer_const_constructors_in_immutables: true
      prefer_const_declarations: true
      prefer_const_literals_to_create_immutables: true
      prefer_final_fields: true
      prefer_final_in_for_each: true
      prefer_final_locals: true
      require_trailing_commas: true
      unnecessary_const: true
      unnecessary_new: true
      use_key_in_widget_constructors: true
      
      # Performance rules
      avoid_function_literals_in_foreach_calls: true
      prefer_collection_literals: true
      prefer_for_elements_to_map_fromIterable: true
      prefer_if_elements_to_conditional_expressions: true
      prefer_spread_collections: true
      
      # Style rules
      always_declare_return_types: true
      always_put_control_body_on_new_line: true
      always_put_required_named_parameters_first: true
      always_specify_types: true
      annotate_overrides: true
      avoid_catches_without_on_clauses: true
      avoid_catching_errors: true
      avoid_empty_else: true
      avoid_field_initializers_in_const_classes: true
      avoid_implementing_value_types: true
      avoid_init_to_null: true
      avoid_null_checks_in_equality_operators: true
      avoid_positional_boolean_parameters: true
      avoid_redundant_argument_values: true
      avoid_renaming_method_parameters: true
      avoid_return_types_on_setters: true
      avoid_returning_null_for_void: true
      avoid_single_cascade_in_expression_statements: true
      avoid_types_as_parameter_names: true
      avoid_unnecessary_containers: true
      avoid_unused_constructor_parameters: true
      avoid_void_async: true
      camel_case_extensions: true
      camel_case_types: true
      curly_braces_in_flow_control_structures: true
      empty_catches: true
      empty_constructor_bodies: true
      empty_statements: true
      file_names: true
      implementation_imports: true
      library_names: true
      library_prefixes: true
      non_constant_identifier_names: true
      null_closures: true
      one_member_abstracts: true
      only_throw_errors: true
      overridden_fields: true
      package_api_docs: true
      package_prefixed_library_names: true
      prefer_adjacent_string_concatenation: true
      prefer_asserts_in_initializer_lists: true
      prefer_conditional_assignment: true
      prefer_contains: true
      prefer_equal_for_default_values: true
      prefer_expression_function_bodies: true
      prefer_function_declarations_over_variables: true
      prefer_generic_function_type_aliases: true
      prefer_initializing_formals: true
      prefer_inlined_adds: true
      prefer_interpolation_to_compose_strings: true
      prefer_is_empty: true
      prefer_is_not_empty: true
      prefer_is_not_operator: true
      prefer_iterable_whereType: true
      prefer_null_aware_operators: true
      prefer_relative_imports: true
      prefer_single_quotes: true
      prefer_typing_uninitialized_variables: true
      prefer_void_to_null: true
      provide_deprecation_message: true
      recursive_getters: true
      slash_for_doc_comments: true
      sort_child_properties_last: true
      sort_constructors_first: true
      sort_unnamed_constructors_first: true
      type_annotate_public_apis: true
      type_init_formals: true
      unawaited_futures: true
      unnecessary_await_in_return: true
      unnecessary_brace_in_string_interps: true
      unnecessary_getters_setters: true
      unnecessary_lambdas: true
      unnecessary_null_aware_assignments: true
      unnecessary_null_in_if_null_operators: true
      unnecessary_overrides: true
      unnecessary_parenthesis: true
      unnecessary_statements: true
      unnecessary_string_escapes: true
      unnecessary_string_interpolations: true
      unnecessary_this: true
      unrelated_type_equality_checks: true
      use_function_type_syntax_for_parameters: true
      use_rethrow_when_possible: true
      valid_regexps: true
      void_checks: true

dependencies:
  required:
    - "flutter: sdk: flutter"
    - "cupertino_icons: ^1.0.0"
  
  recommended:
    - "provider: ^6.0.0"
    - "http: ^1.0.0"
    - "shared_preferences: ^2.0.0"
    - "path_provider: ^2.0.0"
    - "sqflite: ^2.0.0"
    - "cached_network_image: ^3.0.0"
    - "flutter_svg: ^2.0.0"
    - "intl: ^0.18.0"
  
  state_management:
    - "bloc: ^8.0.0"
    - "flutter_bloc: ^8.0.0"
    - "freezed_annotation: ^2.0.0"
    - "json_annotation: ^4.0.0"
  
  development:
    - "flutter_test: sdk: flutter"
    - "flutter_lints: ^3.0.0"
    - "build_runner: ^2.0.0"
    - "freezed: ^2.0.0"
    - "json_serializable: ^6.0.0"
    - "mocktail: ^1.0.0"

scripts:
  analyze: "flutter analyze"
  test: "flutter test --coverage"
  build_android: "flutter build apk --release"
  build_ios: "flutter build ios --release"
  build_web: "flutter build web --release"
  format: "dart format --set-exit-if-changed ."
  zero_check: "flutter analyze && dart format --set-exit-if-changed . && flutter test"

gitHooks:
  pre_commit:
    - "flutter analyze"
    - "dart format --set-exit-if-changed ."
    - "flutter test"
    - "git add ."

vscode:
  settings:
    "dart.previewFlutterUiGuides": true
    "dart.previewFlutterUiGuidesCustomTracking": true
    "editor.rulers": [80, 120]
    "editor.formatOnSave": true
    "editor.codeActionsOnSave":
      "source.fixAll": true
  extensions:
    - "dart-code.dart-code"
    - "dart-code.flutter"

flutterSpecific:
  material_design: true
  cupertino_design: true
  adaptive_design: true
  
securityRules:
  - "Always validate user inputs"
  - "Use secure storage for sensitive data"
  - "Implement proper certificate pinning"
  - "Use HTTPS for all network requests"
  - "Validate API responses"
  - "Implement proper authentication"
  - "Use obfuscation for release builds"
  - "Implement proper deep link validation"

performanceRules:
  - "Use const constructors wherever possible"
  - "Implement proper widget lifecycle management"
  - "Use ListView.builder for large lists"
  - "Optimize image loading and caching"
  - "Implement proper memory management"
  - "Use RepaintBoundary for expensive widgets"
  - "Minimize widget rebuilds"
  - "Use appropriate state management"

accessibilityRules:
  - "Provide semantic labels for all interactive elements"
  - "Ensure proper contrast ratios"
  - "Support screen readers"
  - "Implement proper focus management"
  - "Test with TalkBack/VoiceOver"
  - "Provide alternative text for images"
  - "Ensure keyboard navigation support"
  - "Test with accessibility tools"